<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GIF Search</title>
    <link rel="stylesheet" href="src/css/global.css">
    <link rel="stylesheet" href="src/css/components.css">
    <link rel="stylesheet" href="src/css/darkmode.css">
    <link rel="stylesheet" href="src/css/emotebox.css">
    <link rel="stylesheet" href="src/css/buttons.css">
    <link rel="stylesheet" href="src/css/responsive.css">
</head>

<body>
    <!-- Mobile Header -->
    <div class="mobile-header">
        <button id="mobile-favorites-button" class="button iconbutton mobile-favorites-button"
            onclick="openmobilefavorites()"></button>
        <button id="mobile-history-button" class="button iconbutton mobile-history-button"></button>
        <div id="mobile-buttons" class="mobile-buttons">
            <button id="upload-file-mobile" class="button iconbutton upload-button"
                onclick="loadAndFetchEmoticons()"></button>
            <button id="dark-mode-toggle-mobile" class="button iconbutton darkmode-button"></button>
        </div>
    </div>

    <!-- Desktop Buttons -->
    <div class="desktop-buttons">
        <button id="dark-mode-toggle" class="button iconbutton darkmode-button" aria-label="Toggle dark mode"></button>
        <button id="upload-file" class="button iconbutton upload-button"
            aria-label="Upload and show from file"></button>
    </div>

    <!-- Favorites Section -->
    <div id="favorites-overlay" class="favorites-overlay" onclick="openmobilefavorites()"></div>
    <div id="favorites" class="favorites">
        <div id="favorites-header" class="favorites-header">
            <button class="button iconbutton download-favorites-button" onclick="downloadFavorites()">
                <span id="favorites-counter" class="favorites-counter">0</span>
            </button>
            <h2 class="header">Favorites</h2>
            <div>
                <button id="close-favorites-button" class="button iconbutton mobile-close-button"
                onclick="openmobilefavorites()"></button>
            </div> 
        </div>
        <div id="favorite-emotes" class="favorites-content"></div>
    </div>


    <!-- History Section -->
    <div id="history" class="history">
        <h2 class="header">History</h2>
        <button class="button iconbutton delete-history-button" onclick="deleteHistory()"></button>
        <div id="history-emotes" class="history-content"></div>
    </div>

    <!-- Main Content -->
    <div class="container">
        <div id="list-buttons" class="list-buttons">
        <button id="juliamemes" class="button iconbutton juliamemes-button" onclick="renderUserGifs('juliamemes')"></button>
        <button id="nsf" class="button iconbutton nsf-button" onclick="renderUserGifs('nsf')"></button>
        <button id="tsi" class="button iconbutton tsi-button" onclick="renderUserGifs('tsi')"></button>
        <button id="hgr" class="button iconbutton hgr-button" onclick="renderUserGifs('hgr')"></button>
        <button id="nsf" class="button iconbutton dec-button" onclick="renderUserGifs('dec')"></button>
        </div>
        <div id="filesection" class="main-button-container">
            <button id="sync-favorites-button" class="button" onclick="syncFavorites()">Sync Favorites</button>
        <button id="sync-favorites-button" class="button" onclick="logout()">Logout</button>
            <button id="desktop-show-button" class="button show-file-button" onclick="loadAndFetchEmoticons('dec')">Show from
                File</button>
            <input type="file" id="file-input" class="hidden" accept=".txt">
        </div>
        <div class="main-button-container  random-input-container">
            <button id="home-button" class="button iconbutton home-button" onclick="restoreHome()"></button>
            <input type="text" id="manual-slug-input" class="search-field" placeholder="Search as you type...">
            <button id="random-button" class="button iconbutton random-button" onclick="generateRandomSlugAndScroll()"></button>
        </div>
        <div id="results" class="results"></div>
    </div>

    <!-- Modal -->
    <div id="image-modal" class="image-modal">
        <span id="close-modal" class="close-modal">&times;</span>
        <img id="modal-image" class="modal-image" src="" alt="Full Resolution">
    </div>
    <div id="login-modal" class="login-modal">
        <span id="close-login-modal" class="close-modal" onclick="closeLoginModal()" >&times;</span>
        <div class="login-modal-content">
            <h2>Login</h2>
            <input type="text" id="email" class="login-input" placeholder="Email">
            <input type="password" id="password" class="login-input" placeholder="Password">
            <button id="login-button" class="button" onclick="login()">Login</button>
            <button id="signup-button" class="button" onclick="signup()">Sign Up</button>
        </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="src/js/supabase.js"></script>
    <script src="src/js/utils.js"></script>
    <script src="src/js/drag-drop.js"></script>
    <script src="src/js/dark-mode.js"></script>
    <script src="src/js/emotes.js"></script>
    <script src="src/js/favorites-supabase.js"></script>
    <script src="src/js/modal.js"></script>
</body>

</html>